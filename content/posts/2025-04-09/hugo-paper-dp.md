---
title: "Design Patterns in TypeScriptï¼šç”¨è¨­è¨ˆæ¨¡å¼æ‰“é€ å¯æ¸¬è©¦çš„æ¶æ§‹"
date: 2025-04-08T12:21:11+08:00
draft: false
cover:
  image: "/images/posts/2025-04-08-dp.webp"
  alt: "å°é¢åœ–"
  responsive: true
url: "/posts/2025-04-09/hugo-paper-dp/"
categories: ["æŠ€è¡“æ–‡ç« "]
tags: ["TypeScript", "Design Patterns", "TDD", "OOP"]
summary: "é€™æ˜¯ä¸€å€‹ä½¿ç”¨ TypeScript å¯¦ä½œç¶“å…¸è¨­è¨ˆæ¨¡å¼çš„å­¸ç¿’å‹å°ˆæ¡ˆï¼Œæ­é… Jest æ’°å¯«å–®å…ƒæ¸¬è©¦ã€‚"
---

é€™æ˜¯ä¸€å€‹ä½¿ç”¨ **TypeScript** æ’°å¯«çš„è¨­è¨ˆæ¨¡å¼å­¸ç¿’å°ˆæ¡ˆï¼Œç›®æ¨™æ˜¯å¯¦ä½œ GoF ç¶“å…¸è¨­è¨ˆæ¨¡å¼ï¼Œä¸¦æ­é… **Jest** æ’°å¯«å–®å…ƒæ¸¬è©¦ï¼Œå¼·åŒ–å¯ç¶­è­·æ€§èˆ‡å¯è®€æ€§ã€‚

ğŸ‘‰ GitHub Repoï¼š[yu-sooong/design-patterns-ts](https://github.com/yu-sooong/design-patterns-ts)

---

## ğŸ’¡ å°ˆæ¡ˆå‹•æ©Ÿ

èº«ç‚ºå¾Œç«¯å·¥ç¨‹å¸«ï¼Œåœ¨é–‹ç™¼å¤§å‹ç³»çµ±æ™‚å¾€å¾€éœ€è¦é‡æ§‹ã€æ¨¡çµ„åŒ–èˆ‡æŠ½è±¡åŒ–ï¼Œè€Œè¨­è¨ˆæ¨¡å¼æ­£æ˜¯å»ºç«‹é€™äº›èƒ½åŠ›çš„åŸºç¤ã€‚

æœ¬å°ˆæ¡ˆç›®çš„ç‚ºï¼š
- ç†Ÿæ‚‰ TypeScript ä¸­å¦‚ä½•å¯¦ä½œç¶“å…¸è¨­è¨ˆæ¨¡å¼
- ç·´ç¿’ TDD æ€ç¶­ï¼ˆæ¸¬è©¦å…ˆè¡Œï¼‰
- å¼·åŒ–ç‰©ä»¶å°å‘æ¶æ§‹è¨­è¨ˆèƒ½åŠ›
- æº–å‚™é¢è©¦ä½œå“é›†æˆ–æ•™å­¸å…§å®¹

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹èˆ‡å·¥å…·

```bash
src/
â”‚â”€â”€ patterns/
â”‚   â”œâ”€â”€ singleton/
â”‚   â”œâ”€â”€ factory/
â”‚   â”œâ”€â”€ strategy/
â”‚   â”œâ”€â”€ proxy/
â”‚â”€â”€ tests/
â”‚â”€â”€ .github/workflows/ci.yml
â”‚â”€â”€ coverage/
â”‚â”€â”€ package.json
â”‚â”€â”€ jest.config.js
â”‚â”€â”€ tsconfig.json

```

### ğŸ”§ ä½¿ç”¨å·¥å…·

| å·¥å…·          | èªªæ˜                         |
|---------------|------------------------------|
| TypeScript     | å¼·å‹åˆ¥èªè¨€ï¼Œå¢å¼·æ¶æ§‹ç©©å®šæ€§   |
| Jest           | æ¸¬è©¦æ¡†æ¶ï¼Œæ”¯æ´ mock èˆ‡æ–·è¨€    |
| ts-node        | å³æ™‚åŸ·è¡Œ TypeScript ç¨‹å¼ç¢¼   |
| Node.js        | åŸ·è¡Œç’°å¢ƒ                     |

---

## ğŸ§  å¯¦ä½œçš„è¨­è¨ˆæ¨¡å¼

### ğŸ—ï¸ Creational å‰µå»ºå‹

| æ¨¡å¼        | èªªæ˜                                                   |
|-------------|--------------------------------------------------------|
| Factory     | å°è£å»ºç«‹ç‰©ä»¶çš„é‚è¼¯ï¼Œæ¸›å°‘è€¦åˆ                           |
| Singleton   | ç¢ºä¿æ•´å€‹æ‡‰ç”¨ä¸­åªæœ‰ä¸€å€‹å¯¦ä¾‹ï¼ˆå¸¸è¦‹æ–¼è¨­å®šã€Log ç­‰ï¼‰      |

---

### ğŸ§© Structural çµæ§‹å‹

| æ¨¡å¼        | èªªæ˜                                                   |
|-------------|--------------------------------------------------------|
| Adapter     | å°‡ä¸ç›¸å®¹çš„ä»‹é¢é€²è¡Œè½‰æ›                                 |
| Decorator   | åœ¨ä¸æ”¹è®ŠåŸç‰©ä»¶çš„å‰æä¸‹å‹•æ…‹æ“´å……å…¶åŠŸèƒ½                   |

---

### ğŸ” Behavioral è¡Œç‚ºå‹

| æ¨¡å¼        | èªªæ˜                                                   |
|-------------|--------------------------------------------------------|
| Strategy    | å°è£æ¼”ç®—æ³•ä¸¦å¯å‹•æ…‹åˆ‡æ›ï¼Œç¬¦åˆé–‹æ”¾å°é–‰åŸå‰‡               |
| Observer    | å¯¦ä½œäº‹ä»¶è¨‚é–±/é€šçŸ¥æ©Ÿåˆ¶ï¼Œå¸¸è¦‹æ–¼ UIã€å³æ™‚é€šçŸ¥ç­‰å ´æ™¯       |

---

## ğŸ§ª å–®å…ƒæ¸¬è©¦è¨­è¨ˆï¼ˆTDDï¼‰

æ‰€æœ‰è¨­è¨ˆæ¨¡å¼çš†æ­é… **Jest** æ’°å¯«å–®å…ƒæ¸¬è©¦ï¼Œé©—è­‰åŠŸèƒ½æ­£ç¢ºæ€§èˆ‡è¨­è¨ˆé‚è¼¯ã€‚

### ğŸ“Œ æ¸¬è©¦ç¯„ä¾‹ï¼šSingleton

```ts
describe('Singleton Pattern', () => {
  it('should return the same instance', () => {
    const instance1 = Singleton.getInstance();
    const instance2 = Singleton.getInstance();

    expect(instance1).toBe(instance2);
  });
});
```

- âœ… é©—è­‰æ˜¯å¦ç‚ºåŒä¸€å¯¦ä¾‹
- âœ… å¯æ“´å……è¡Œç‚ºæ¸¬è©¦

### ğŸ“Œ æ¸¬è©¦ç¯„ä¾‹ï¼šStrategy

```ts
describe('Strategy Pattern', () => {
  it('should execute the correct strategy', () => {
    const context = new Context(new ConcreteStrategyA());
    expect(context.executeStrategy()).toBe('Strategy A');

    context.setStrategy(new ConcreteStrategyB());
    expect(context.executeStrategy()).toBe('Strategy B');
  });
});
```

---

## âœ¨ å°ˆæ¡ˆäº®é»èˆ‡åƒ¹å€¼

- âœ… **100% å–®å…ƒæ¸¬è©¦è¦†è“‹**
- ğŸ§± **æ¶æ§‹æ¸…æ™°ã€æ¨¡çµ„åŒ–åˆ†é¡**
- ğŸ” **å°æ‡‰ç¾å¯¦å ´æ™¯çš„æ¨¡å¼å¯¦ä½œ**
- ğŸ“˜ **é©åˆæ•™å­¸ / ä½œå“é›† / é¢è©¦ä½¿ç”¨**
- ğŸš€ **å¯ä½œç‚º TDD æˆ– OOP æ¶æ§‹æ¨¡æ¿**

---

## ğŸ§­ å»¶ä¼¸æ–¹å‘å»ºè­°

| é …ç›® | èªªæ˜ |
|------|------|
| â• å¢åŠ æ›´å¤šè¨­è¨ˆæ¨¡å¼ | å¦‚ Commandã€Stateã€Mediatorã€Prototype ç­‰ |
| ğŸ–¼ï¸ åŠ å…¥ UML / Mermaid åœ–ç¤º | è¼”åŠ©ç†è§£è¨­è¨ˆæ¨¡å¼æ¶æ§‹ |
| ğŸ§ª åŠ å…¥æ¸¬è©¦è¦†è“‹ç‡å ±è¡¨ | ä½¿ç”¨ `jest --coverage` |
| ğŸ”„ åŠ å…¥ GitHub Actions CI | PR è‡ªå‹•æ¸¬è©¦ï¼Œæå‡å°ˆæ¡ˆå°ˆæ¥­åº¦ |
| ğŸ’¼ æ•´åˆå¯¦éš›æ¥­å‹™æ¡ˆä¾‹ | å°‡æ¨¡å¼æ‡‰ç”¨åœ¨ç°¡æ˜“ Web æˆ– CLI å°ˆæ¡ˆä¸­ |

---

## ğŸ“š å­¸ç¿’è³‡æºæ¨è–¦

- æ›¸ç±ï¼šã€ŠHead First Design Patternsã€‹ã€ã€ŠRefactoring to Patternsã€‹
- GitHub é–‹æºå°ˆæ¡ˆï¼š`refactoring.guru`ã€`The TypeScript Handbook`
- è¦–è¦ºåŒ–å­¸ç¿’è¨­è¨ˆæ¨¡å¼ï¼š[https://refactoring.guru/design-patterns](https://refactoring.guru/design-patterns)

---

## ğŸ“¬ è¯çµ¡èˆ‡è²¢ç»

å¦‚æœä½ è¦ºå¾—é€™å€‹å°ˆæ¡ˆå°ä½ æœ‰å¹«åŠ©ï¼Œæ­¡è¿ï¼š
- â­ GitHub çµ¦å€‹æ˜Ÿï¼š[design-patterns-ts](https://github.com/yu-sooong/design-patterns-ts)
- ğŸ‘‹ å¯„ä¿¡çµ¦æˆ‘ï¼šssocde543@gmail.com
- ğŸ’¬ ä¸€èµ·è¨è«–è¨­è¨ˆæ¨¡å¼æˆ–é–‹ç™¼å¿ƒå¾—ï¼

---